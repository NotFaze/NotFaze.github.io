"use strict";function _typeof(e){function t(e){return n.apply(this,arguments)}var n,o;function i(e){return o.apply(this,arguments)}return(_typeof="function"==typeof Symbol&&"symbol"===_typeof(Symbol.iterator)?(o=function(e){return void 0===e?"undefined":_typeof(e)},i.toString=function(){return o.toString()},i):(n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)},t.toString=function(){return n.toString()},t))(e)}!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t():e.PhotoSwipe=t()}(void 0,function(){return function(m,n,e,t){var f={features:null,bind:function(e,t,n,o){var i=(o?"remove":"add")+"EventListener";t=t.split(" ");for(var a=0;a<t.length;a++)t[a]&&e[i](t[a],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){t=document.createElement(t||"div");return e&&(t.className=e),t},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){f.bind(e,t,n,!0)},removeClass:function(e,t){t=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(t," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){f.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(f.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var o=e.length;o--;)if(e[o][n]===t)return o;return-1},extend:function(e,t,n){for(var o in t)t.hasOwnProperty(o)&&(n&&e.hasOwnProperty(o)||(e[o]=t[o]))},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(f.features)return f.features;var e,t,n=f.createEl().style,o="",i={};i.oldIE=document.all&&!document.addEventListener,i.touch="ontouchstart"in window,window.requestAnimationFrame&&(i.raf=window.requestAnimationFrame,i.caf=window.cancelAnimationFrame),i.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,i.pointerEvent||(e=navigator.userAgent,!/iP(hone|od)/.test(navigator.platform)||(t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/))&&0<t.length&&(1<=(t=parseInt(t[1],10))&&t<8&&(i.isOldIOSPhone=!0)),t=(t=e.match(/Android\s([0-9\.]*)/))?t[1]:0,1<=(t=parseFloat(t))&&(t<4.4&&(i.isOldAndroid=!0),i.androidVersion=t),i.isMobileOpera=/opera mini|opera mobi/i.test(e));for(var a,r,l,s=["transform","perspective","animationName"],u=["","webkit","Moz","ms","O"],c=0;c<4;c++){o=u[c];for(var d=0;d<3;d++)a=s[d],r=o+(o?a.charAt(0).toUpperCase()+a.slice(1):a),!i[a]&&r in n&&(i[a]=r);o&&!i.raf&&(o=o.toLowerCase(),i.raf=window[o+"RequestAnimationFrame"],i.raf&&(i.caf=window[o+"CancelAnimationFrame"]||window[o+"CancelRequestAnimationFrame"]))}return i.raf||(l=0,i.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-l)),o=window.setTimeout(function(){e(t+n)},n);return l=t+n,o},i.caf=function(e){clearTimeout(e)}),i.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,f.features=i}};f.detectFeatures(),f.features.oldIE&&(f.bind=function(e,t,n,o){t=t.split(" ");for(var i,a=(o?"detach":"attach")+"Event",r=function(){n.handleEvent.call(n)},l=0;l<t.length;l++)if(i=t[l])if("object"==(void 0===n?"undefined":_typeof(n))&&n.handleEvent){if(o){if(!n["oldIE"+i])return!1}else n["oldIE"+i]=r;e[a]("on"+i,n["oldIE"+i])}else e[a]("on"+i,n)});var h=this,y={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e||t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};f.extend(y,t);function o(){return{x:0,y:0}}function i(e,t){f.extend(h,t.publicMethods),et.push(e)}function r(e){var t=Xt();return t-1<e?e-t:e<0?t+e:e}function a(e,t){return ot[e]||(ot[e]=[]),ot[e].push(t)}function x(e){var t=ot[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var o=0;o<t.length;o++)t[o].apply(h,n)}}function c(){return(new Date).getTime()}function g(e){Ye=e,h.bg.style.opacity=e*y.bgOpacity}function l(e,t,n,o,i){(!nt||i&&i!==h.currItem)&&(o/=(i||h.currItem).fitRatio),e[ce]=ee+t+"px, "+n+"px"+te+" scale("+o+")"}function d(e,t){var n;!y.loop&&t&&(n=X+(je.x*qe-e)/je.x,t=Math.round(e-It.x),(n<0&&0<t||n>=Xt()-1&&t<0)&&(e=It.x+t*y.mainScrollEndFriction)),It.x=e,rt(e,V)}function s(e,t){var n=Ct[e]-$e[e];return Xe[e]+Ge[e]+n-t/Q*n}function v(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)}function u(e){e.x=Math.round(e.x),e.y=Math.round(e.y)}function p(){lt&&(f.unbind(document,"mousemove",p),f.addClass(m,"pswp--has_mouse"),y.mouseUsed=!0,x("mouseUsed")),lt=setTimeout(function(){lt=null},100)}function w(e,t){return e=jt(h.currItem,Ke,e),t&&(Le=e),e}function b(e){return(e=e||h.currItem).initialZoomLevel}function I(e){return 0<(e=e||h.currItem).w?y.maxSpreadZoom:1}function C(e,t,n,o){return o===h.currItem.initialZoomLevel?(n[e]=h.currItem.initialPosition[e],!0):(n[e]=s(e,o),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]&&(n[e]=t.max[e],!0))}function D(e){var t="";y.escKey&&27===e.keyCode?t="close":y.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,h[t]()))}function S(e){e&&(Oe||Ee||ze||Se)&&(e.preventDefault(),e.stopPropagation())}function T(){h.setScrollOffset(0,f.getScrollY())}function M(e){st[e]&&(st[e].raf&&fe(st[e].raf),ut--,delete st[e])}function A(e){st[e]&&M(e),st[e]||(ut++,st[e]={})}function E(){for(var e in st)st.hasOwnProperty(e)&&M(e)}function O(t,n,o,i,a,r,l){var s,u=c();A(t),function e(){if(st[t]){if(s=c()-u,i<=s)return M(t),r(o),void(l&&l());r((o-n)*a(s/i)+n),st[t].raf=me(e)}}()}function k(e,t){return gt.x=Math.abs(e.x-t.x),gt.y=Math.abs(e.y-t.y),Math.sqrt(gt.x*gt.x+gt.y*gt.y)}function R(){Me&&(ke=me(R),Ot())}function Z(e,t){return!(!e||e===document)&&!(e.getAttribute("class")&&-1<e.getAttribute("class").indexOf("pswp__scroll-wrap"))&&(t(e)?e:Z(e.parentNode,t))}function P(e,t){return Tt.prevent=!Z(e.target,y.isClickableElement),x("preventDragEvent",e,t,Tt),Tt.prevent}function F(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t}function L(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)}function _(){var e=Ve.y-h.currItem.initialPosition.y;return 1-Math.abs(e/(Ke.y/2))}function z(e){for(;0<Et.length;)Et.pop();return de?(Be=0,ht.forEach(function(e){0===Be?Et[0]=e:1===Be&&(Et[1]=e),Be++})):-1<e.type.indexOf("touch")?e.touches&&0<e.touches.length&&(Et[0]=F(e.touches[0],Mt),1<e.touches.length&&(Et[1]=F(e.touches[1],At))):(Mt.x=e.pageX,Mt.y=e.pageY,Mt.id="",Et[0]=Mt),Et}function N(e,t){var n,o,i,a=Ve[e]+t[e],r=0<t[e],l=It.x+t.x,s=It.x-yt.x,u=a>Le.min[e]||a<Le.max[e]?y.panEndFriction:1,a=Ve[e]+t[e]*u;return!y.allowPanToNext&&J!==h.currItem.initialZoomLevel||(_e?"h"!==Ne||"x"!==e||Ee||(r?(a>Le.min[e]&&(u=y.panEndFriction,Le.min[e],n=Le.min[e]-Xe[e]),(n<=0||s<0)&&1<Xt()?(i=l,s<0&&l>yt.x&&(i=yt.x)):Le.min.x!==Le.max.x&&(o=a)):(a<Le.max[e]&&(u=y.panEndFriction,Le.max[e],n=Xe[e]-Le.max[e]),(n<=0||0<s)&&1<Xt()?(i=l,0<s&&l<yt.x&&(i=yt.x)):Le.min.x!==Le.max.x&&(o=a))):i=l,"x"!==e)?void(ze||Re||J>h.currItem.fitRatio&&(Ve[e]+=t[e]*u)):(void 0!==i&&(d(i,!0),Re=i!==yt.x),Le.min.x!==Le.max.x&&(void 0!==o?Ve.x=o:Re||(Ve.x+=t.x*u)),void 0!==i)}function U(e){var t;"mousedown"===e.type&&0<e.button||(Bt?e.preventDefault():Te&&"mousedown"===e.type||(P(e,!0)&&e.preventDefault(),x("pointerDown"),de&&((t=f.arraySearch(ht,e.pointerId,"id"))<0&&(t=ht.length),ht[t]={x:e.pageX,y:e.pageY,id:e.pointerId}),e=(t=z(e)).length,Ze=null,E(),Me&&1!==e||(Me=Ue=!0,f.bind(window,q,h),De=We=He=Se=Re=Oe=Ae=Ee=!1,Ne=null,x("firstTouchStart",t),v(Xe,Ve),Ge.x=Ge.y=0,v(mt,t[0]),v(ft,mt),yt.x=je.x*qe,xt=[{x:mt.x,y:mt.y}],Ie=be=c(),w(J,!0),St(),R()),!Pe&&1<e&&!ze&&!Re&&(Q=J,Pe=Ae=!(Ee=!1),Ge.y=Ge.x=0,v(Xe,Ve),v(ct,t[0]),v(dt,t[1]),L(ct,dt,Dt),Ct.x=Math.abs(Dt.x)-Ve.x,Ct.y=Math.abs(Dt.y)-Ve.y,Fe=k(ct,dt))))}function H(e){var t,n;e.preventDefault(),de&&-1<(t=f.arraySearch(ht,e.pointerId,"id"))&&((n=ht[t]).x=e.pageX,n.y=e.pageY),Me&&(n=z(e),Ne||Oe||Pe?Ze=n:It.x!==je.x*qe?Ne="h":(e=Math.abs(n[0].x-mt.x)-Math.abs(n[0].y-mt.y),10<=Math.abs(e)&&(Ne=0<e?"h":"v",Ze=n)))}function Y(e){if(ve.isOldAndroid){if(Te&&"mouseup"===e.type)return;-1<e.type.indexOf("touch")&&(clearTimeout(Te),Te=setTimeout(function(){Te=0},600))}x("pointerUp"),P(e,!1)&&e.preventDefault(),!de||-1<(n=f.arraySearch(ht,e.pointerId,"id"))&&(a=ht.splice(n,1)[0],navigator.pointerEnabled?a.type=e.pointerType||"mouse":(a.type={4:"mouse",2:"touch",3:"pen"}[e.pointerType],a.type||(a.type=e.pointerType||"mouse")));var t=z(e),n=t.length;if("mouseup"===e.type&&(n=0),2===n)return!(Ze=null);1===n&&v(ft,t[0]),0!==n||Ne||ze||(a||("mouseup"===e.type?a={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(a={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),x("touchRelease",e,a));var o,i,a=-1;if(0===n&&(Me=!1,f.unbind(window,q,h),St(),Pe?a=0:-1!==bt&&(a=c()-bt)),bt=1===n?c():-1,a=-1!==a&&a<150?"zoom":"swipe",Pe&&n<2&&(Pe=!1,1===n&&(a="zoomPointerUp"),x("zoomGestureEnded")),Ze=null,Oe||Ee||ze||Se)if(E(),(Ce=Ce||kt()).calculateSwipeSpeed("x"),Se){_()<y.verticalDragRange?h.close():(o=Ve.y,i=Ye,O("verticalDrag",0,1,300,f.easing.cubic.out,function(e){Ve.y=(h.currItem.initialPosition.y-o)*e+o,g((1-i)*e+i),it()}),x("onVerticalDrag",1))}else{if((Re||ze)&&0===n){if(Zt(a,Ce))return;a="zoomPointerUp"}if(!ze)return"swipe"!==a?void Ft():void(!Re&&J>h.currItem.fitRatio&&Rt(Ce))}}var W,B,G,X,V,K,q,$,j,J,Q,ee,te,ne,oe,ie,ae,re,le,se,ue,ce,de,pe,me,fe,he,ye,xe,ge,ve,we,be,Ie,Ce,De,Se,Te,Me,Ae,Ee,Oe,ke,Re,Ze,Pe,Fe,Le,_e,ze,Ne,Ue,He,Ye,We,Be,Ge=o(),Xe=o(),Ve=o(),Ke={},qe=0,$e={},je=o(),Je=0,Qe=!0,et=[],tt={},nt=!1,ot={},it=function(e){_e&&(e&&(J>h.currItem.fitRatio?nt||(Jt(h.currItem,!1,!0),nt=!0):nt&&(Jt(h.currItem),nt=!1)),l(_e,Ve.x,Ve.y,J))},at=function(e){e.container&&l(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},rt=function(e,t){t[ce]=ee+e+"px, 0px"+te},lt=null,st={},ut=0,t={shout:x,listen:a,viewportSize:Ke,options:y,isMainScrollAnimating:function(){return ze},getZoomLevel:function(){return J},getCurrentIndex:function(){return X},isDragging:function(){return Me},isZooming:function(){return Pe},setScrollOffset:function(e,t){$e.x=e,ge=$e.y=t,x("updateScrollOffset",$e)},applyZoomPan:function(e,t,n,o){Ve.x=t,Ve.y=n,J=e,it(o)},init:function(){if(!W&&!B){var e;h.framework=f,h.template=m,h.bg=f.getChildByClass(m,"pswp__bg"),he=m.className,W=!0,ve=f.detectFeatures(),me=ve.raf,fe=ve.caf,ce=ve.transform,xe=ve.oldIE,h.scrollWrap=f.getChildByClass(m,"pswp__scroll-wrap"),h.container=f.getChildByClass(h.scrollWrap,"pswp__container"),V=h.container.style,h.itemHolders=ie=[{el:h.container.children[0],wrap:0,index:-1},{el:h.container.children[1],wrap:0,index:-1},{el:h.container.children[2],wrap:0,index:-1}],ie[0].el.style.display=ie[2].el.style.display="none",function(){if(ce){var e=ve.perspective&&!pe;return ee="translate"+(e?"3d(":"("),te=ve.perspective?", 0px)":")"}ce="left",f.addClass(m,"pswp--ie"),rt=function(e,t){t.left=e+"px"},at=function(e){var t=1<e.fitRatio?1:e.fitRatio,n=e.container.style,o=t*e.w,t=t*e.h;n.width=o+"px",n.height=t+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},it=function(){var e,t,n,o;_e&&(e=_e,n=(t=1<(o=h.currItem).fitRatio?1:o.fitRatio)*o.w,o=t*o.h,e.width=n+"px",e.height=o+"px",e.left=Ve.x+"px",e.top=Ve.y+"px")}}(),j={resize:h.updateSize,orientationchange:function(){clearTimeout(we),we=setTimeout(function(){Ke.x!==h.scrollWrap.clientWidth&&h.updateSize()},500)},scroll:T,keydown:D,click:S};var t=ve.isOldIOSPhone||ve.isOldAndroid||ve.isMobileOpera;for(ve.animationName&&ve.transform&&!t||(y.showAnimationDuration=y.hideAnimationDuration=0),e=0;e<et.length;e++)h["init"+et[e]]();n&&(h.ui=new n(h,f)).init(),x("firstUpdate"),X=X||y.index||0,(isNaN(X)||X<0||X>=Xt())&&(X=0),h.currItem=Gt(X),(ve.isOldIOSPhone||ve.isOldAndroid)&&(Qe=!1),m.setAttribute("aria-hidden","false"),y.modal&&(Qe?m.style.position="fixed":(m.style.position="absolute",m.style.top=f.getScrollY()+"px")),void 0===ge&&(x("initialLayout"),ge=ye=f.getScrollY());t="pswp--open ";for(y.mainClass&&(t+=y.mainClass+" "),y.showHideOpacity&&(t+="pswp--animate_opacity "),t+=pe?"pswp--touch":"pswp--notouch",t+=ve.animationName?" pswp--css_animation":"",t+=ve.svg?" pswp--svg":"",f.addClass(m,t),h.updateSize(),K=-1,Je=null,e=0;e<3;e++)rt((e+K)*je.x,ie[e].el.style);xe||f.bind(h.scrollWrap,$,h),a("initialZoomInEnd",function(){h.setContent(ie[0],X-1),h.setContent(ie[2],X+1),ie[0].el.style.display=ie[2].el.style.display="block",y.focus&&m.focus(),f.bind(document,"keydown",h),ve.transform&&f.bind(h.scrollWrap,"click",h),y.mouseUsed||f.bind(document,"mousemove",p),f.bind(window,"resize scroll orientationchange",h),x("bindEvents")}),h.setContent(ie[1],X),h.updateCurrItem(),x("afterInit"),Qe||(ne=setInterval(function(){ut||Me||Pe||J!==h.currItem.initialZoomLevel||h.updateSize()},1e3)),f.addClass(m,"pswp--visible")}},close:function(){W&&(B=!(W=!1),x("close"),f.unbind(window,"resize scroll orientationchange",h),f.unbind(window,"scroll",j.scroll),f.unbind(document,"keydown",h),f.unbind(document,"mousemove",p),ve.transform&&f.unbind(h.scrollWrap,"click",h),Me&&f.unbind(window,q,h),clearTimeout(we),x("unbindEvents"),Vt(h.currItem,null,!0,h.destroy))},destroy:function(){x("destroy"),Ht&&clearTimeout(Ht),m.setAttribute("aria-hidden","true"),m.className=he,ne&&clearInterval(ne),f.unbind(h.scrollWrap,$,h),f.unbind(window,"scroll",h),St(),E(),ot=null},panTo:function(e,t,n){n||(e>Le.min.x?e=Le.min.x:e<Le.max.x&&(e=Le.max.x),t>Le.min.y?t=Le.min.y:t<Le.max.y&&(t=Le.max.y)),Ve.x=e,Ve.y=t,it()},handleEvent:function(e){e=e||window.event,j[e.type]&&j[e.type](e)},goTo:function(e){var t=(e=r(e))-X;Je=t,X=e,h.currItem=Gt(X),qe-=t,d(je.x*qe),E(),ze=!1,h.updateCurrItem()},next:function(){h.goTo(X+1)},prev:function(){h.goTo(X-1)},updateCurrZoomItem:function(e){var t;e&&x("beforeChange",0),_e=ie[1].el.children.length?(t=ie[1].el.children[0],f.hasClass(t,"pswp__zoom-wrap")?t.style:null):null,Le=h.currItem.bounds,Q=J=h.currItem.initialZoomLevel,Ve.x=Le.center.x,Ve.y=Le.center.y,e&&x("afterChange")},invalidateCurrItems:function(){oe=!0;for(var e=0;e<3;e++)ie[e].item&&(ie[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==Je){var t,n=Math.abs(Je);if(!(e&&n<2)){h.currItem=Gt(X),nt=!1,x("beforeChange",Je),3<=n&&(K+=Je+(0<Je?-3:3),n=3);for(var o=0;o<n;o++)0<Je?(t=ie.shift(),ie[2]=t,rt((++K+2)*je.x,t.el.style),h.setContent(t,X-n+o+1+1)):(t=ie.pop(),ie.unshift(t),rt(--K*je.x,t.el.style),h.setContent(t,X+n-o-1-1));!_e||1!==Math.abs(Je)||(e=Gt(ae)).initialZoomLevel!==J&&(jt(e,Ke),Jt(e),at(e)),Je=0,h.updateCurrZoomItem(),ae=X,x("afterChange")}}},updateSize:function(e){if(!Qe&&y.modal){var t=f.getScrollY();if(ge!==t&&(m.style.top=t+"px",ge=t),!e&&tt.x===window.innerWidth&&tt.y===window.innerHeight)return;tt.x=window.innerWidth,tt.y=window.innerHeight,m.style.height=tt.y+"px"}if(Ke.x=h.scrollWrap.clientWidth,Ke.y=h.scrollWrap.clientHeight,T(),je.x=Ke.x+Math.round(Ke.x*y.spacing),je.y=Ke.y,d(je.x*qe),x("beforeResize"),void 0!==K){for(var n,o,i,a=0;a<3;a++)n=ie[a],rt((a+K)*je.x,n.el.style),i=X+a-1,y.loop&&2<Xt()&&(i=r(i)),(o=Gt(i))&&(oe||o.needsUpdate||!o.bounds)?(h.cleanSlide(o),h.setContent(n,i),1===a&&(h.currItem=o,h.updateCurrZoomItem(!0)),o.needsUpdate=!1):-1===n.index&&0<=i&&h.setContent(n,i),o&&o.container&&(jt(o,Ke),Jt(o),at(o));oe=!1}Q=J=h.currItem.initialZoomLevel,(Le=h.currItem.bounds)&&(Ve.x=Le.center.x,Ve.y=Le.center.y,it(!0)),x("resize")},zoomTo:function(t,e,n,o,i){e&&(Q=J,Ct.x=Math.abs(e.x)-Ve.x,Ct.y=Math.abs(e.y)-Ve.y,v(Xe,Ve));var e=w(t,!1),a={};C("x",e,a,t),C("y",e,a,t);var r=J,l=Ve.x,s=Ve.y;u(a);e=function(e){1===e?(J=t,Ve.x=a.x,Ve.y=a.y):(J=(t-r)*e+r,Ve.x=(a.x-l)*e+l,Ve.y=(a.y-s)*e+s),i&&i(e),it(1===e)};n?O("customZoomTo",0,1,n,o||f.easing.sine.inOut,e):e(1)}},ct={},dt={},pt={},mt={},ft={},ht=[],yt={},xt=[],gt={},vt=0,wt=o(),bt=0,It=o(),Ct=o(),Dt=o(),St=function(){ke&&(fe(ke),ke=null)},Tt={},Mt={},At={},Et=[],Ot=function(){if(Ze){var e=Ze.length;if(0!==e)if(v(ct,Ze[0]),pt.x=ct.x-mt.x,pt.y=ct.y-mt.y,Pe&&1<e){mt.x=ct.x,mt.y=ct.y,(pt.x||pt.y||(a=Ze[1],r=dt,a.x!==r.x||a.y!==r.y))&&(v(dt,Ze[1]),Ee||(Ee=!0,x("zoomGestureStarted")),o=k(ct,dt),(i=Pt(o))>h.currItem.initialZoomLevel+h.currItem.initialZoomLevel/15&&(We=!0),n=1,e=b(),a=I(),i<e?y.pinchToClose&&!We&&Q<=h.currItem.initialZoomLevel?(g(r=1-(e-i)/(e/1.2)),x("onPinchClose",r),He=!0):(1<(n=(e-i)/e)&&(n=1),i=e-n*(e/3)):a<i&&(1<(n=(i-a)/(6*e))&&(n=1),i=a+n*e),n<0&&(n=0),L(ct,dt,wt),Ge.x+=wt.x-Dt.x,Ge.y+=wt.y-Dt.y,v(Dt,wt),Ve.x=s("x",i),Ve.y=s("y",i),De=J<i,J=i,it())}else if(Ne&&(Ue&&(Ue=!1,10<=Math.abs(pt.x)&&(pt.x-=Ze[0].x-ft.x),10<=Math.abs(pt.y)&&(pt.y-=Ze[0].y-ft.y)),mt.x=ct.x,mt.y=ct.y,0!==pt.x||0!==pt.y)){if("v"===Ne&&y.closeOnVerticalDrag&&"fit"===y.scaleMode&&J===h.currItem.initialZoomLevel){Ge.y+=pt.y,Ve.y+=pt.y;var t=_();return Se=!0,x("onVerticalDrag",t),g(t),void it()}n=c(),o=ct.x,i=ct.y,50<n-Ie&&((t=2<xt.length?xt.shift():{}).x=o,t.y=i,xt.push(t),Ie=n),Oe=!0,Le=h.currItem.bounds,N("x",pt)||(N("y",pt),u(Ve),it())}}var n,o,i,a,r},kt=function(){var t,n,o={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(e){n=1<xt.length?(t=c()-Ie+50,xt[xt.length-2][e]):(t=c()-be,ft[e]),o.lastFlickOffset[e]=mt[e]-n,o.lastFlickDist[e]=Math.abs(o.lastFlickOffset[e]),20<o.lastFlickDist[e]?o.lastFlickSpeed[e]=o.lastFlickOffset[e]/t:o.lastFlickSpeed[e]=0,Math.abs(o.lastFlickSpeed[e])<.1&&(o.lastFlickSpeed[e]=0),o.slowDownRatio[e]=.95,o.slowDownRatioReverse[e]=1-o.slowDownRatio[e],o.speedDecelerationRatio[e]=1},calculateOverBoundsAnimOffset:function(t,e){o.backAnimStarted[t]||(Ve[t]>Le.min[t]?o.backAnimDestination[t]=Le.min[t]:Ve[t]<Le.max[t]&&(o.backAnimDestination[t]=Le.max[t]),void 0!==o.backAnimDestination[t]&&(o.slowDownRatio[t]=.7,o.slowDownRatioReverse[t]=1-o.slowDownRatio[t],o.speedDecelerationRatioAbs[t]<.05&&(o.lastFlickSpeed[t]=0,o.backAnimStarted[t]=!0,O("bounceZoomPan"+t,Ve[t],o.backAnimDestination[t],e||300,f.easing.sine.out,function(e){Ve[t]=e,it()}))))},calculateAnimOffset:function(e){o.backAnimStarted[e]||(o.speedDecelerationRatio[e]=o.speedDecelerationRatio[e]*(o.slowDownRatio[e]+o.slowDownRatioReverse[e]-o.slowDownRatioReverse[e]*o.timeDiff/10),o.speedDecelerationRatioAbs[e]=Math.abs(o.lastFlickSpeed[e]*o.speedDecelerationRatio[e]),o.distanceOffset[e]=o.lastFlickSpeed[e]*o.speedDecelerationRatio[e]*o.timeDiff,Ve[e]+=o.distanceOffset[e])},panAnimLoop:function(){if(st.zoomPan&&(st.zoomPan.raf=me(o.panAnimLoop),o.now=c(),o.timeDiff=o.now-o.lastNow,o.lastNow=o.now,o.calculateAnimOffset("x"),o.calculateAnimOffset("y"),it(),o.calculateOverBoundsAnimOffset("x"),o.calculateOverBoundsAnimOffset("y"),o.speedDecelerationRatioAbs.x<.05&&o.speedDecelerationRatioAbs.y<.05))return Ve.x=Math.round(Ve.x),Ve.y=Math.round(Ve.y),it(),void M("zoomPan")}};return o},Rt=function(e){return e.calculateSwipeSpeed("y"),Le=h.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05?(e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0):(A("zoomPan"),e.lastNow=c(),void e.panAnimLoop())},Zt=function(e,t){var n,o;ze||(vt=X),"swipe"===e&&(o=mt.x-ft.x,e=t.lastFlickDist.x<10,30<o&&(e||20<t.lastFlickOffset.x)?a=-1:o<-30&&(e||t.lastFlickOffset.x<-20)&&(a=1)),a&&((X+=a)<0?(X=y.loop?Xt()-1:0,i=!0):X>=Xt()&&(X=y.loop?0:Xt()-1,i=!0),i&&!y.loop||(Je+=a,qe-=a,n=!0));var i=je.x*qe,a=Math.abs(i-It.x),r=n||i>It.x==0<t.lastFlickSpeed.x?(r=0<Math.abs(t.lastFlickSpeed.x)?a/Math.abs(t.lastFlickSpeed.x):333,r=Math.min(r,400),Math.max(r,250)):333;return vt===X&&(n=!1),ze=!0,x("mainScrollAnimStart"),O("mainScroll",It.x,i,r,f.easing.cubic.out,d,function(){E(),ze=!1,vt=-1,!n&&vt===X||h.updateCurrItem(),x("mainScrollAnimComplete")}),n&&h.updateCurrItem(!0),n},Pt=function(e){return 1/Fe*e*Q},Ft=function(){var e=J,t=b(),n=I();J<t?e=t:n<J&&(e=n);var o,i=Ye;return He&&!De&&!We&&J<t?h.close():(He&&(o=function(e){g((1-i)*e+i)}),h.zoomTo(e,0,200,f.easing.cubic.out,o)),!0};i("Gestures",{publicMethods:{initGestures:function(){function e(e,t,n,o,i){re=e+t,le=e+n,se=e+o,ue=i?e+i:""}(de=ve.pointerEvent)&&ve.touch&&(ve.touch=!1),de?navigator.pointerEnabled?e("pointer","down","move","up","cancel"):e("MSPointer","Down","Move","Up","Cancel"):ve.touch?(e("touch","start","move","end","cancel"),pe=!0):e("mouse","down","move","up"),q=le+" "+se+" "+ue,$=re,de&&!pe&&(pe=1<navigator.maxTouchPoints||1<navigator.msMaxTouchPoints),h.likelyTouchDevice=pe,j[re]=U,j[le]=H,j[se]=Y,ue&&(j[ue]=j[se]),ve.touch&&($+=" mousedown",q+=" mousemove mouseup",j.mousedown=j[re],j.mousemove=j[le],j.mouseup=j[se]),pe||(y.allowPanToNext=!1)}}});function Lt(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}}function _t(e,t,n,o,i,a){t.loadError||o&&(t.imageAppended=!0,Jt(t,o,t===h.currItem&&nt),n.appendChild(o),a&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))}function zt(e){function t(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,n.onload=n.onerror=null,n=null}e.loading=!0,e.loaded=!1;var n=e.img=f.createEl("pswp__img","img");return n.onload=t,n.onerror=function(){e.loadError=!0,t()},n.src=e.src,n}function Nt(e,t){return e.src&&e.loadError&&e.container&&(t&&(e.container.innerHTML=""),e.container.innerHTML=y.errorMsg.replace("%url%",e.src),1)}function Ut(){if(qt.length){for(var e,t=0;t<qt.length;t++)(e=qt[t]).holder.index===e.index&&_t(e.index,e.item,e.baseDiv,e.img,0,e.clearPlaceholder);qt=[]}}var Ht,Yt,Wt,Bt,Gt,Xt,Vt=function(r,e,l,t){var s;Ht&&clearTimeout(Ht),Wt=Bt=!0,r.initialLayout?(s=r.initialLayout,r.initialLayout=null):s=y.getThumbBoundsFn&&y.getThumbBoundsFn(X);function u(){M("initialZoom"),l?(h.template.removeAttribute("style"),h.bg.removeAttribute("style")):(g(1),e&&(e.style.display="block"),f.addClass(m,"pswp--animated-in"),x("initialZoom"+(l?"OutEnd":"InEnd"))),t&&t(),Bt=!1}var c=l?y.hideAnimationDuration:y.showAnimationDuration;if(!c||!s||void 0===s.x)return x("initialZoom"+(l?"Out":"In")),J=r.initialZoomLevel,v(Ve,r.initialPosition),it(),m.style.opacity=l?0:1,g(1),void(c?setTimeout(function(){u()},c):u());var d,p;d=G,p=!h.currItem.src||h.currItem.loadError||y.showHideOpacity,r.miniImg&&(r.miniImg.style.webkitBackfaceVisibility="hidden"),l||(J=s.w/r.w,Ve.x=s.x,Ve.y=s.y-ye,h[p?"template":"bg"].style.opacity=.001,it()),A("initialZoom"),l&&!d&&f.removeClass(m,"pswp--animated-in"),p&&(l?f[(d?"remove":"add")+"Class"](m,"pswp--animate_opacity"):setTimeout(function(){f.addClass(m,"pswp--animate_opacity")},30)),Ht=setTimeout(function(){var t,n,o,i,a,e;x("initialZoom"+(l?"Out":"In")),l?(t=s.w/r.w,n=Ve.x,o=Ve.y,i=J,a=Ye,e=function(e){1===e?(J=t,Ve.x=s.x,Ve.y=s.y-ge):(J=(t-i)*e+i,Ve.x=(s.x-n)*e+n,Ve.y=(s.y-ge-o)*e+o),it(),p?m.style.opacity=1-e:g(a-e*a)},d?O("initialZoom",0,1,c,f.easing.cubic.out,e,u):(e(1),Ht=setTimeout(u,c+20))):(J=r.initialZoomLevel,v(Ve,r.initialPosition),it(),g(1),p?m.style.opacity=1:g(1),Ht=setTimeout(u,c+20))},l?25:90)},Kt={},qt=[],$t={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Yt.length}},jt=function(e,t,n){if(!e.src||e.loadError)return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=Lt(),e.initialPosition=e.bounds.center,e.bounds;var o,i,a,r=!n;return r&&(e.vGap||(e.vGap={top:0,bottom:0}),x("parseVerticalMargin",e)),Kt.x=t.x,Kt.y=t.y-e.vGap.top-e.vGap.bottom,r&&(o=Kt.x/e.w,i=Kt.y/e.h,e.fitRatio=o<i?o:i,"orig"===(a=y.scaleMode)?n=1:"fit"===a&&(n=e.fitRatio),1<n&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds=Lt())),n?(o=(t=e).w*n,i=e.h*n,(a=t.bounds).center.x=Math.round((Kt.x-o)/2),a.center.y=Math.round((Kt.y-i)/2)+t.vGap.top,a.max.x=o>Kt.x?Math.round(Kt.x-o):a.center.x,a.max.y=i>Kt.y?Math.round(Kt.y-i)+t.vGap.top:a.center.y,a.min.x=o>Kt.x?0:a.center.x,a.min.y=i>Kt.y?t.vGap.top:a.center.y,r&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds):void 0},Jt=function(e,t,n){var o;e.src&&(t=t||e.container.lastChild,o=n?e.w:Math.round(e.w*e.fitRatio),n=n?e.h:Math.round(e.h*e.fitRatio),e.placeholder&&!e.loaded&&(e.placeholder.style.width=o+"px",e.placeholder.style.height=n+"px"),t.style.width=o+"px",t.style.height=n+"px")};i("Controller",{publicMethods:{lazyLoadItem:function(e){e=r(e);var t=Gt(e);t&&(!t.loaded&&!t.loading||oe)&&(x("gettingData",e,t),t.src&&zt(t))},initController:function(){f.extend(y,$t,!0),h.items=Yt=e,Gt=h.getItemAt,Xt=y.getNumItemsFn,y.loop,Xt()<3&&(y.loop=!1),a("beforeChange",function(e){for(var t=y.preload,n=null===e||0<=e,o=Math.min(t[0],Xt()),i=Math.min(t[1],Xt()),a=1;a<=(n?i:o);a++)h.lazyLoadItem(X+a);for(a=1;a<=(n?o:i);a++)h.lazyLoadItem(X-a)}),a("initialLayout",function(){h.currItem.initialLayout=y.getThumbBoundsFn&&y.getThumbBoundsFn(X)}),a("mainScrollAnimComplete",Ut),a("initialZoomInEnd",Ut),a("destroy",function(){for(var e,t=0;t<Yt.length;t++)(e=Yt[t]).container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);qt=null})},getItemAt:function(e){return 0<=e&&void 0!==Yt[e]&&Yt[e]},allowProgressiveImg:function(){return y.forceProgressiveLoading||!pe||y.mouseUsed||1200<screen.width},setContent:function(t,n){y.loop&&(n=r(n));var e=h.getItemAt(t.index);e&&(e.container=null);var o,i,a=h.getItemAt(n);a?(x("gettingData",n,a),t.index=n,i=(t.item=a).container=f.createEl("pswp__zoom-wrap"),!a.src&&a.html&&(a.html.tagName?i.appendChild(a.html):i.innerHTML=a.html),Nt(a),jt(a,Ke),!a.src||a.loadError||a.loaded?a.src&&!a.loadError&&((o=f.createEl("pswp__img","img")).style.opacity=1,o.src=a.src,Jt(a,o),_t(0,a,i,o)):(a.loadComplete=function(e){if(W){if(t&&t.index===n){if(Nt(e,!0))return e.loadComplete=e.img=null,jt(e,Ke),at(e),void(t.index===X&&h.updateCurrZoomItem());e.imageAppended?!Bt&&e.placeholder&&(e.placeholder.style.display="none",e.placeholder=null):ve.transform&&(ze||Bt)?qt.push({item:e,baseDiv:i,img:e.img,index:n,holder:t,clearPlaceholder:!0}):_t(0,e,i,e.img,0,!0)}e.loadComplete=null,e.img=null,x("imageLoadComplete",n,e)}},f.features.transform&&(e="pswp__img pswp__img--placeholder",e+=a.msrc?"":" pswp__img--placeholder--blank",e=f.createEl(e,a.msrc?"img":""),a.msrc&&(e.src=a.msrc),Jt(a,e),i.appendChild(e),a.placeholder=e),a.loading||zt(a),h.allowProgressiveImg()&&(!Wt&&ve.transform?qt.push({item:a,baseDiv:i,img:a.img,index:n,holder:t}):_t(0,a,i,a.img,0,!0))),Wt||n!==X?at(a):(_e=i.style,Vt(a,o||a.img)),t.el.innerHTML="",t.el.appendChild(i)):t.el.innerHTML=""},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});function Qt(e,t,n){var o=document.createEvent("CustomEvent"),n={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};o.initCustomEvent("pswpTap",!0,!0,n),e.target.dispatchEvent(o)}var en,tn,nn={};i("Tap",{publicMethods:{initTap:function(){a("firstTouchStart",h.onTapStart),a("touchRelease",h.onTapRelease),a("destroy",function(){nn={},en=null})},onTapStart:function(e){1<e.length&&(clearTimeout(en),en=null)},onTapRelease:function(e,t){var n,o,i;!t||Oe||Ae||ut||(n=t,en&&(clearTimeout(en),en=null,o=n,i=nn,Math.abs(o.x-i.x)<25&&Math.abs(o.y-i.y)<25)?x("doubleTap",n):"mouse"!==t.type?"BUTTON"===e.target.tagName.toUpperCase()||f.hasClass(e.target,"pswp__single-tap")?Qt(e,t):(v(nn,n),en=setTimeout(function(){Qt(e,t),en=null},300)):Qt(e,t,"mouse"))}}}),i("DesktopZoom",{publicMethods:{initDesktopZoom:function(){xe||(pe?a("mouseUsed",function(){h.setupDesktopZoom()}):h.setupDesktopZoom(!0))},setupDesktopZoom:function(e){tn={};var t="wheel mousewheel DOMMouseScroll";a("bindEvents",function(){f.bind(m,t,h.handleMouseWheel)}),a("unbindEvents",function(){tn&&f.unbind(m,t,h.handleMouseWheel)}),h.mouseZoomedIn=!1;function n(){h.mouseZoomedIn&&(f.removeClass(m,"pswp--zoomed-in"),h.mouseZoomedIn=!1),J<1?f.addClass(m,"pswp--zoom-allowed"):f.removeClass(m,"pswp--zoom-allowed"),i()}var o,i=function(){o&&(f.removeClass(m,"pswp--dragging"),o=!1)};a("resize",n),a("afterChange",n),a("pointerDown",function(){h.mouseZoomedIn&&(o=!0,f.addClass(m,"pswp--dragging"))}),a("pointerUp",i),e||n()},handleMouseWheel:function(e){if(J<=h.currItem.fitRatio)return y.modal&&(!y.closeOnScroll||ut||Me?e.preventDefault():ce&&2<Math.abs(e.deltaY)&&(G=!0,h.close())),!0;if(e.stopPropagation(),tn.x=0,"deltaX"in e)1===e.deltaMode?(tn.x=18*e.deltaX,tn.y=18*e.deltaY):(tn.x=e.deltaX,tn.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(tn.x=-.16*e.wheelDeltaX),e.wheelDeltaY?tn.y=-.16*e.wheelDeltaY:tn.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;tn.y=e.detail}w(J,!0);var t=Ve.x-tn.x,n=Ve.y-tn.y;(y.modal||t<=Le.min.x&&t>=Le.max.x&&n<=Le.min.y&&n>=Le.max.y)&&e.preventDefault(),h.panTo(t,n)},toggleDesktopZoom:function(e){e=e||{x:Ke.x/2+$e.x,y:Ke.y/2+$e.y};var t=y.getDoubleTapZoom(!0,h.currItem),n=J===t;h.mouseZoomedIn=!n,h.zoomTo(n?h.currItem.initialZoomLevel:t,e,333),f[(n?"remove":"add")+"Class"](m,"pswp--zoomed-in")}}});function on(){return gn.hash.substring(1)}function an(){sn&&clearTimeout(sn),cn&&clearTimeout(cn)}function rn(){var e=on(),t={};if(e.length<5)return t;var n,o=e.split("&");for(a=0;a<o.length;a++){o[a]&&((n=o[a].split("=")).length<2||(t[n[0]]=n[1]))}if(y.galleryPIDs){for(var i=t.pid,a=t.pid=0;a<Yt.length;a++)if(Yt[a].pid===i){t.pid=a;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t}function ln(){var e,t;cn&&clearTimeout(cn),ut||Me?cn=setTimeout(ln,500):(dn?clearTimeout(un):dn=!0,t=X+1,(e=Gt(X)).hasOwnProperty("pid")&&(t=e.pid),e=fn+"&gid="+y.galleryUID+"&pid="+t,hn||-1===gn.hash.indexOf(e)&&(xn=!0),t=gn.href.split("#")[0]+"#"+e,vn?"#"+e!==window.location.hash&&history[hn?"replaceState":"pushState"]("",document.title,t):hn?gn.replace(t):gn.hash=e,hn=!0,un=setTimeout(function(){dn=!1},60))}var sn,un,cn,dn,pn,mn,fn,hn,yn,xn,gn,vn,wn={history:!0,galleryUID:1};i("History",{publicMethods:{initHistory:function(){var e,t;f.extend(y,wn,!0),y.history&&(gn=window.location,hn=yn=xn=!1,fn=on(),vn="pushState"in history,-1<fn.indexOf("gid=")&&(fn=(fn=fn.split("&gid=")[0]).split("?gid=")[0]),a("afterChange",h.updateURL),a("unbindEvents",function(){f.unbind(window,"hashchange",h.onHashChange)}),e=function(){mn=!0,yn||(xn?history.back():fn?gn.hash=fn:vn?history.pushState("",document.title,gn.pathname+gn.search):gn.hash=""),an()},a("unbindEvents",function(){G&&e()}),a("destroy",function(){mn||e()}),a("firstUpdate",function(){X=rn().pid}),-1<(t=fn.indexOf("pid="))&&("&"===(fn=fn.substring(0,t)).slice(-1)&&(fn=fn.slice(0,-1))),setTimeout(function(){W&&f.bind(window,"hashchange",h.onHashChange)},40))},onHashChange:function(){return on()===fn?(yn=!0,void h.close()):void(dn||(pn=!0,h.goTo(rn().pid),pn=!1))},updateURL:function(){an(),pn||(hn?sn=setTimeout(ln,800):ln())}}}),f.extend(h,t)}});